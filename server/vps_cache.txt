
                      }
                      whatsappFromUrl = cleanDigits + '@c.us';
                      console.log('[WhatsApp] Telefone vÃ¡lido detectado:', 
phoneFromWhatsApp, 'ID:', whatsappFromUrl);
                  } else {
                      // Ã‰ um PID/LID - NÃƒO usar como telefone, apenas como ID
                      whatsappFromUrl = cleanDigits + '@c.us';
                      phoneFromWhatsApp = null; // NÃƒO preencher campo de telefone
                      console.log('[WhatsApp] PID detectado (nÃ£o Ã© telefone):', 
cleanDigits, '- Cliente deve digitar telefone');
                  }
              }
  
              // Verificar tambÃ©m parÃ¢metro LID
              const lid = params.get('lid');
              if (lid) {
                  lidFromUrl = lid;
                  console.log('[WhatsApp] LID detectado:', lid);
              }
          })();
  
          // ===== SISTEMA DE CACHE DO CLIENTE =====
>         const customerCache = {
              KEY: 'deliveryhub_customer_cache',
  
              save(data) {
                  const cacheData = {
                      ...this.load(),
                      ...data,
                      lastUpdated: new Date().toISOString()
                  };
                  localStorage.setItem(this.KEY, JSON.stringify(cacheData));
              },
  
              load() {
                  try {
                      const data = localStorage.getItem(this.KEY);
                      if (!data) return null;
                      return JSON.parse(data);
                  } catch (e) {
                      console.warn('Erro ao carregar cache do cliente:', e);
                      return null;
                  }


